(this["webpackJsonpreact-foodability"]=this["webpackJsonpreact-foodability"]||[]).push([[0],{44:function(e,t,n){},45:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(19),s=n.n(r),i=(n(44),n(45),n(2)),l=n.n(i),o=n(5),j=n(3),u=n(4),b=n.n(u),d=n(6),m=n(14),h=n(0),O=Object(m.b)((function(e){return{user:e.user}}))((function(e){var t=function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("logout",{});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("nav",{className:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow",children:[Object(h.jsx)("a",{className:"navbar-brand col-md-3 col-lg-2 mr-0 px-3",href:"#",children:"Project Foodability"}),Object(h.jsxs)("ul",{className:"my-2 my-md-0 mr-md-3",children:[Object(h.jsx)(d.b,{to:"/profile",className:"p-2 text-white text-decoration-none",children:e.user.name}),Object(h.jsx)(d.b,{to:"/login",className:"p-2 text-white text-decoration-none",onClick:t,children:"Sign out"})]})]})})),f=function(){return Object(h.jsx)("nav",{className:"col-md-2 d-none d-md-block bg-light sidebar",children:Object(h.jsx)("div",{className:"sidebar-sticky",children:Object(h.jsxs)("ul",{className:"nav flex-column",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(d.c,{to:"/",exact:!0,className:"nav-link",href:"#",children:"Dashboard"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(d.c,{to:"/users",className:"nav-link",href:"#",children:"Users"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(d.c,{to:"/roles",className:"nav-link",href:"#",children:"Roles"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(d.c,{to:"/products",className:"nav-link",href:"#",children:"Restaurants"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(d.c,{to:"/orders",className:"nav-link",href:"#",children:"Orders"})})]})})})},x=n(8),p=n(16),v=n(22),g=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(p.a)(this,e),this.id=t,this.name=n},N=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new g;Object(p.a)(this,e),this.id=t,this.first_name=n,this.last_name=c,this.email=a,this.role=r}return Object(v.a)(e,[{key:"name",get:function(){return this.first_name+" "+this.last_name}}]),e}(),w=function(e){return{type:"SET_USER",user:e}},y=Object(m.b)((function(e){return{user:e.user}}),(function(e){return{setUser:function(t){return e(w(t))}}}))((function(e){var t=Object(c.useState)(!1),n=Object(j.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){Object(o.a)(l.a.mark((function t(){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.get("user");case 3:n=t.sent,c=n.data,e.setUser(new N(c.id,c.first_name,c.last_name,c.email,c.role)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),r(!0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}),[]),a?Object(h.jsx)(x.a,{to:"/login"}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{}),Object(h.jsx)("div",{className:"container-fluid",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)(f,{}),Object(h.jsx)("main",{role:"main",className:"col-md-9 ml-sm-auto col-lg-10 pt-3 px-4",children:e.children})]})})]})})),S={navigation:{fontSize:15,paddingBottom:15,display:"flex",justifyContent:"center",alignItems:"center"},title:{fontSize:24,marginBottom:20},paper:{padding:30},clear:{clear:"both"}},k=function(){return Object(h.jsxs)(y,{children:[Object(h.jsx)("div",{className:"row",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:"https://i.ibb.co/phykXy9/foodabilitylogo.jpg",alt:"new"})})}),Object(h.jsx)("div",{className:"row",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(h.jsx)("h3",{style:S.navigation,children:"This is the admin application for Project Foodability."})}),Object(h.jsx)("div",{className:"row",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(h.jsx)("h3",{style:S.navigation,children:"Here, you can maintain the users, roles, restaurants, and orders within the Foodability app."})})]})},C=function(e){return Object(h.jsx)("nav",{children:Object(h.jsxs)("ul",{className:"pagination",children:[Object(h.jsx)("li",{className:"page-item",children:Object(h.jsx)("a",{href:"#",className:"page-link",onClick:function(){e.page>=1&&e.pageChanged(e.page-1)},children:"Previous"})}),Object(h.jsx)("li",{className:"page-item",children:Object(h.jsx)("a",{href:"#",className:"page-link",onClick:function(){e.page<e.lastPage&&e.pageChanged(e.page+1)},children:"Next"})})]})})},_=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(1),s=Object(j.a)(r,2),i=s[0],u=s[1],m=Object(c.useState)(0),O=Object(j.a)(m,2),f=O[0],x=O[1];Object(c.useEffect)((function(){Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("users?page=".concat(i));case 2:t=e.sent,n=t.data,a(n.data),x(n.meta.last_page);case 6:case"end":return e.stop()}}),e)})))()}),[i]);var p=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you wanna delete this user?")){e.next=4;break}return e.next=3,b.a.delete("users/".concat(t));case 3:a(n.filter((function(e){return e.id!==t})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(y,{children:[Object(h.jsx)("div",{className:"pt-3 pb-2 mb-3 border-bottom",children:Object(h.jsx)(d.b,{to:"/users/create",href:"#",className:"btn btn-sm btn-outline-secondary",children:"Add User"})}),Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"table-responsive",children:Object(h.jsxs)("table",{className:"table table-striped table-sm",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"#"}),Object(h.jsx)("th",{children:"Name"}),Object(h.jsx)("th",{children:"Email"}),Object(h.jsx)("th",{children:"Role"}),Object(h.jsx)("th",{children:"Action"})]})}),Object(h.jsx)("tbody",{children:n.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.id}),Object(h.jsxs)("td",{children:[e.first_name," ",e.last_name]}),Object(h.jsx)("td",{children:e.email}),Object(h.jsx)("td",{children:e.role.name}),Object(h.jsx)("td",{children:Object(h.jsxs)("div",{className:"btn-group mr-2",children:[Object(h.jsx)(d.b,{to:"/users/".concat(e.id,"/edit"),className:"btn btn-sm btn-outline-secondary",children:"Edit"}),Object(h.jsx)("a",{href:"#",className:"btn btn-sm btn-outline-secondary",onClick:function(){return p(e.id)},children:"Delete"})]})})]},e.id)}))})]})})}),Object(h.jsx)(C,{page:i,lastPage:f,pageChanged:u})]})},E=n(39),P=n(37),D=function(e){Object(E.a)(n,e);var t=Object(P.a)(n);function n(){var e;Object(p.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).first_name="",e.last_name="",e.email="",e.password="",e.password_confirm="",e.state={redirect:!1},e.submit=function(){var t=Object(o.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,b.a.post("register",{first_name:e.first_name,last_name:e.last_name,email:e.email,password:e.password,password_confirm:e.password_confirm});case 3:e.setState({redirect:!0});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(v.a)(n,[{key:"render",value:function(){var e=this;return this.state.redirect?Object(h.jsx)(x.a,{to:"/login"}):Object(h.jsx)("main",{className:"form-signin",children:Object(h.jsxs)("form",{onSubmit:this.submit,children:[Object(h.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Please register"}),Object(h.jsx)("input",{className:"form-control",placeholder:"First Name",required:!0,onChange:function(t){return e.first_name=t.target.value}}),Object(h.jsx)("input",{className:"form-control",placeholder:"Last Name",required:!0,onChange:function(t){return e.last_name=t.target.value}}),Object(h.jsx)("input",{type:"email",className:"form-control",placeholder:"Email",required:!0,onChange:function(t){return e.email=t.target.value}}),Object(h.jsx)("input",{type:"password",className:"form-control",placeholder:"Password",required:!0,onChange:function(t){return e.password=t.target.value}}),Object(h.jsx)("input",{type:"password",className:"form-control",placeholder:"Password Confirm",required:!0,onChange:function(t){return e.password_confirm=t.target.value}}),Object(h.jsx)("button",{className:"w-100 btn btn-lg btn-primary",type:"submit",children:"Submit"})]})})}}]),n}(c.Component),F=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(j.a)(r,2),i=s[0],u=s[1],d=Object(c.useState)(!1),m=Object(j.a)(d,2),O=m[0],f=m[1],p=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,b.a.post("login",{email:n,password:i});case 3:f(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return O?Object(h.jsx)(x.a,{to:"/"}):Object(h.jsx)("main",{className:"form-signin",children:Object(h.jsxs)("form",{onSubmit:p,children:[Object(h.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Please sign in"}),Object(h.jsx)("input",{type:"email",className:"form-control",placeholder:"Email",required:!0,onChange:function(e){return a(e.target.value)}}),Object(h.jsx)("input",{type:"password",className:"form-control",placeholder:"Password",required:!0,onChange:function(e){return u(e.target.value)}}),Object(h.jsx)("button",{className:"w-100 btn btn-lg btn-primary",type:"submit",children:"Submit"})]})})},A=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(j.a)(r,2),i=s[0],u=s[1],d=Object(c.useState)(""),m=Object(j.a)(d,2),O=m[0],f=m[1],p=Object(c.useState)(""),v=Object(j.a)(p,2),g=v[0],N=v[1],w=Object(c.useState)([]),S=Object(j.a)(w,2),k=S[0],C=S[1],_=Object(c.useState)(!1),E=Object(j.a)(_,2),P=E[0],D=E[1];Object(c.useEffect)((function(){Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("roles");case 2:t=e.sent,n=t.data,C(n);case 5:case"end":return e.stop()}}),e)})))()}),[]);var F=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,b.a.post("users",{first_name:n,last_name:i,email:O,role_id:g});case 3:D(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return P?Object(h.jsx)(x.a,{to:"/users"}):Object(h.jsx)(y,{children:Object(h.jsxs)("form",{onSubmit:F,children:[Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{children:"First Name"}),Object(h.jsx)("input",{className:"form-control",onChange:function(e){return a(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{children:"Last Name"}),Object(h.jsx)("input",{className:"form-control",onChange:function(e){return u(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{children:"Email"}),Object(h.jsx)("input",{className:"form-control",onChange:function(e){return f(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{children:"Role"}),Object(h.jsx)("select",{className:"form-control",onChange:function(e){return N(e.target.value)},children:k.map((function(e){return Object(h.jsx)("option",{value:e.id,children:e.name},e.id)}))})]}),Object(h.jsx)("button",{className:"btn btn-outline-secondary",children:"Save"})]})})},V=function(e){var t=Object(c.useState)(""),n=Object(j.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),i=Object(j.a)(s,2),u=i[0],d=i[1],m=Object(c.useState)(""),O=Object(j.a)(m,2),f=O[0],p=O[1],v=Object(c.useState)(""),g=Object(j.a)(v,2),N=g[0],w=g[1],S=Object(c.useState)([]),k=Object(j.a)(S,2),C=k[0],_=k[1],E=Object(c.useState)(!1),P=Object(j.a)(E,2),D=P[0],F=P[1];Object(c.useEffect)((function(){Object(o.a)(l.a.mark((function t(){var n,c,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("roles");case 2:return n=t.sent,_(n.data),t.next=6,b.a.get("users/".concat(e.match.params.id));case 6:c=t.sent,a=c.data,r(a.first_name),d(a.last_name),p(a.email),w(a.role.id);case 12:case"end":return t.stop()}}),t)})))()}),[]);var A=function(){var t=Object(o.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,b.a.put("users/".concat(e.match.params.id),{first_name:a,last_name:u,email:f,role_id:N});case 3:F(!0);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return D?Object(h.jsx)(x.a,{to:"/users"}):Object(h.jsx)(y,{children:Object(h.jsxs)("form",{onSubmit:A,children:[Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{children:"First Name"}),Object(h.jsx)("input",{className:"form-control",defaultValue:a,onChange:function(e){return r(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{children:"Last Name"}),Object(h.jsx)("input",{className:"form-control",defaultValue:u,onChange:function(e){return d(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{children:"Email"}),Object(h.jsx)("input",{className:"form-control",defaultValue:f,onChange:function(e){return p(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{children:"Role"}),Object(h.jsx)("select",{className:"form-control",value:N,onChange:function(e){return w(e.target.value)},children:C.map((function(e){return Object(h.jsx)("option",{value:e.id,children:e.name},e.id)}))})]}),Object(h.jsx)("button",{className:"btn btn-outline-secondary",children:"Save"})]})})},R=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("roles");case 2:t=e.sent,n=t.data,a(n);case 5:case"end":return e.stop()}}),e)})))()}),[]);var r=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Absolutely sure you wanna delete this role?")){e.next=4;break}return e.next=3,b.a.delete("roles/".concat(t));case 3:a(n.filter((function(e){return e.id!==t})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(y,{children:[Object(h.jsx)("div",{className:"pt-3 pb-2 mb-3 border-bottom",children:Object(h.jsx)(d.b,{to:"/roles/create",href:"#",className:"btn btn-sm btn-outline-secondary",children:"Add a Role"})}),Object(h.jsx)("div",{className:"table-responsive",children:Object(h.jsxs)("table",{className:"table table-striped table-sm",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"#"}),Object(h.jsx)("th",{children:"Name"}),Object(h.jsx)("th",{children:"Action"})]})}),Object(h.jsx)("tbody",{children:n.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.id}),Object(h.jsx)("td",{children:e.name}),Object(h.jsx)("td",{children:Object(h.jsxs)("div",{className:"btn-group mr-2",children:[Object(h.jsx)(d.b,{to:"/roles/".concat(e.id,"/edit"),className:"btn btn-sm btn-outline-secondary",children:"Edit"}),Object(h.jsx)("a",{href:"#",className:"btn btn-sm btn-outline-secondary",onClick:function(){return r(e.id)},children:"Delete"})]})})]},e.id)}))})]})})]})},U=n(23),T=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),s=Object(j.a)(r,2),i=s[0],u=s[1],d=Object(c.useState)(""),m=Object(j.a)(d,2),O=m[0],f=m[1],p=Object(c.useState)(!1),v=Object(j.a)(p,2),g=v[0],N=v[1];Object(c.useEffect)((function(){Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("permissions");case 2:t=e.sent,n=t.data,a(n);case 5:case"end":return e.stop()}}),e)})))()}),[]);var w=function(){var e=Object(o.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.preventDefault(),n=[],c=0;c<i.length;c++)n.push(i[c].toString());return e.next=5,b.a.post("roles",{name:O,permissions:n});case 5:N(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return g?Object(h.jsx)(x.a,{to:"/roles"}):Object(h.jsx)(y,{children:Object(h.jsxs)("form",{onSubmit:w,children:[Object(h.jsxs)("div",{className:"mb-3 mt-3 row",children:[Object(h.jsx)("label",{className:"col-sm-2 col-form-label",children:"Name"}),Object(h.jsx)("div",{className:"col-sm-10",children:Object(h.jsx)("input",{className:"form-control",onChange:function(e){return f(e.target.value)}})})]}),Object(h.jsxs)("div",{className:"mb-3 row",children:[Object(h.jsx)("label",{className:"col-sm-2 col-form-label",children:"Permissions"}),Object(h.jsx)("div",{className:"col-sm-10",children:n.map((function(e){return Object(h.jsxs)("div",{className:"form-check form-check-inline col-3",children:[Object(h.jsx)("input",{className:"form-check-input",type:"checkbox",value:e.id,onChange:function(){return t=e.id,void(i.some((function(e){return e===t}))?u(i.filter((function(e){return e!==t}))):u([].concat(Object(U.a)(i),[t])));var t}}),Object(h.jsx)("label",{className:"form-check-label",children:e.name})]},e.id)}))})]}),Object(h.jsx)("button",{className:"btn btn-outline-secondary",children:"Save"})]})})},I=function(e){var t=Object(c.useState)([]),n=Object(j.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)([]),i=Object(j.a)(s,2),u=i[0],d=i[1],m=Object(c.useState)(""),O=Object(j.a)(m,2),f=O[0],p=O[1],v=Object(c.useState)(!1),g=Object(j.a)(v,2),N=g[0],w=g[1];Object(c.useEffect)((function(){Object(o.a)(l.a.mark((function t(){var n,c,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("permissions");case 2:return n=t.sent,r(n.data),t.next=6,b.a.get("roles/".concat(e.match.params.id));case 6:c=t.sent,a=c.data,p(a.name),d(a.permissions.map((function(e){return e.id})));case 10:case"end":return t.stop()}}),t)})))()}),[]);var S=function(){var t=Object(o.a)(l.a.mark((function t(n){var c,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n.preventDefault(),c=[],a=0;a<u.length;a++)c.push(u[a].toString());return t.next=5,b.a.put("roles/".concat(e.match.params.id),{name:f,permissions:c});case 5:w(!0);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return N?Object(h.jsx)(x.a,{to:"/roles"}):Object(h.jsx)(y,{children:Object(h.jsxs)("form",{onSubmit:S,children:[Object(h.jsxs)("div",{className:"mb-3 mt-3 row",children:[Object(h.jsx)("label",{className:"col-sm-2 col-form-label",children:"Name"}),Object(h.jsx)("div",{className:"col-sm-10",children:Object(h.jsx)("input",{className:"form-control",defaultValue:f,onChange:function(e){return p(e.target.value)}})})]}),Object(h.jsxs)("div",{className:"mb-3 row",children:[Object(h.jsx)("label",{className:"col-sm-2 col-form-label",children:"Permissions"}),Object(h.jsx)("div",{className:"col-sm-10",children:a.map((function(e){return Object(h.jsxs)("div",{className:"form-check form-check-inline col-3",children:[Object(h.jsx)("input",{className:"form-check-input",type:"checkbox",value:e.id,checked:u.some((function(t){return t===e.id})),onChange:function(){return t=e.id,void(u.some((function(e){return e===t}))?d(u.filter((function(e){return e!==t}))):d([].concat(Object(U.a)(u),[t])));var t}}),Object(h.jsx)("label",{className:"form-check-label",children:e.name})]},e.id)}))})]}),Object(h.jsx)("button",{className:"btn btn-outline-secondary",children:"Save"})]})})},L=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(1),s=Object(j.a)(r,2),i=s[0],u=s[1],m=Object(c.useState)(0),O=Object(j.a)(m,2),f=O[0],x=O[1];Object(c.useEffect)((function(){Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("products?page=".concat(i));case 2:t=e.sent,n=t.data,a(n.data),x(n.meta.last_page);case 6:case"end":return e.stop()}}),e)})))()}),[i]);var p=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Absolutely sure you wanna delete this role?")){e.next=4;break}return e.next=3,b.a.delete("products/".concat(t));case 3:a(n.filter((function(e){return e.id!==t})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(y,{children:[Object(h.jsx)("div",{className:"pt-3 pb-2 mb-3 border-bottom",children:Object(h.jsx)(d.b,{to:"/products/create",href:"#",className:"btn btn-sm btn-outline-secondary",children:"Add a Product"})}),Object(h.jsx)("div",{className:"table-responsive",children:Object(h.jsxs)("table",{className:"table table-striped table-sm",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"#"}),Object(h.jsx)("th",{children:"Image"}),Object(h.jsx)("th",{children:"Title"}),Object(h.jsx)("th",{children:"Description"}),Object(h.jsx)("th",{children:"Price"}),Object(h.jsx)("th",{children:"Action"})]})}),Object(h.jsx)("tbody",{children:n.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.id}),Object(h.jsx)("td",{children:Object(h.jsx)("img",{src:e.image,width:"50"})}),Object(h.jsx)("td",{children:e.title}),Object(h.jsx)("td",{children:e.description}),Object(h.jsx)("td",{children:e.price}),Object(h.jsx)("td",{children:Object(h.jsxs)("div",{className:"btn-group mr-2",children:[Object(h.jsx)(d.b,{to:"/products/".concat(e.id,"/edit"),className:"btn btn-sm btn-outline-secondary",children:"Edit"}),Object(h.jsx)("a",{href:"#",className:"btn btn-sm btn-outline-secondary",onClick:function(){return p(e.id)},children:"Delete"})]})})]},e.id)}))})]})}),Object(h.jsx)(C,{page:i,lastPage:f,pageChanged:u})]})},q=function(e){var t=function(){var t=Object(o.a)(l.a.mark((function t(n){var c,a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==n){t.next=2;break}return t.abrupt("return");case 2:return(c=new FormData).append("image",n[0]),t.next=6,b.a.post("upload",c);case 6:a=t.sent,r=a.data,e.uploaded(r.url);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsxs)("label",{className:"btn btn-primary",children:["Upload ",Object(h.jsx)("input",{type:"file",hidden:!0,onChange:function(e){return t(e.target.files)}})]})},B=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(j.a)(r,2),i=s[0],u=s[1],d=Object(c.useState)(""),m=Object(j.a)(d,2),O=m[0],f=m[1],p=Object(c.useState)(""),v=Object(j.a)(p,2),g=v[0],N=v[1],w=Object(c.useState)(!1),S=Object(j.a)(w,2),k=S[0],C=S[1],_=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,b.a.post("products",{title:n,description:i,image:O,price:g});case 3:C(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return k?Object(h.jsx)(x.a,{to:"/products"}):Object(h.jsx)(y,{children:Object(h.jsxs)("form",{onSubmit:_,children:[Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{children:"Title"}),Object(h.jsx)("input",{className:"form-control",onChange:function(e){return a(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{children:"Description"}),Object(h.jsx)("textarea",{className:"form-control",onChange:function(e){return u(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{children:"Image"}),Object(h.jsxs)("div",{className:"input-group",children:[Object(h.jsx)("input",{className:"form-control",value:O,onChange:function(e){return f(e.target.value)}}),Object(h.jsx)(q,{uploaded:f})]})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{children:"Price"}),Object(h.jsx)("input",{type:"number",className:"form-control",onChange:function(e){return N(e.target.value)}})]}),Object(h.jsx)("button",{className:"btn btn-outline-secondary",children:"Save"})]})})},H=function(e){var t=Object(c.useState)(""),n=Object(j.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),i=Object(j.a)(s,2),u=i[0],d=i[1],m=Object(c.useState)(""),O=Object(j.a)(m,2),f=O[0],p=O[1],v=Object(c.useState)(""),g=Object(j.a)(v,2),N=g[0],w=g[1],S=Object(c.useState)(!1),k=Object(j.a)(S,2),C=k[0],_=k[1],E=Object(c.useRef)(null);Object(c.useEffect)((function(){Object(o.a)(l.a.mark((function t(){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("products/".concat(e.match.params.id));case 2:n=t.sent,c=n.data,r(c.title),d(c.description),p(c.image),w(c.price);case 8:case"end":return t.stop()}}),t)})))()}),[]);var P=function(){var t=Object(o.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,b.a.put("products/".concat(e.match.params.id),{title:a,description:u,image:f,price:N});case 3:_(!0);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return C?Object(h.jsx)(x.a,{to:"/products"}):Object(h.jsx)(y,{children:Object(h.jsxs)("form",{onSubmit:P,children:[Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{children:"Title"}),Object(h.jsx)("input",{className:"form-control",defaultValue:a,onChange:function(e){return r(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{children:"Description"}),Object(h.jsx)("textarea",{className:"form-control",defaultValue:u,onChange:function(e){return d(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{children:"Image"}),Object(h.jsxs)("div",{className:"input-group",children:[Object(h.jsx)("input",{className:"form-control",ref:E,defaultValue:f,onChange:function(e){return p(e.target.value)}}),Object(h.jsx)(q,{uploaded:function(e){E.current&&(E.current.value=e),p(e)}})]})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{children:"Price"}),Object(h.jsx)("input",{type:"number",className:"form-control",defaultValue:N,onChange:function(e){return w(e.target.value)}})]}),Object(h.jsx)("button",{className:"btn btn-outline-secondary",children:"Save"})]})})},z={maxHeight:0,transition:"1000ms ease-in"},J={maxHeight:"150px",transition:"1000ms ease-out"},M=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(1),s=Object(j.a)(r,2),i=s[0],u=s[1],d=Object(c.useState)(0),m=Object(j.a)(d,2),O=m[0],f=m[1],x=Object(c.useState)(0),p=Object(j.a)(x,2),v=p[0],g=p[1];Object(c.useEffect)((function(){Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("orders?page=".concat(i));case 2:t=e.sent,n=t.data,a(n.data),f(n.meta.last_page);case 6:case"end":return e.stop()}}),e)})))()}),[i]);var N=function(){var e=Object(o.a)(l.a.mark((function e(){var t,n,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("export",{},{responseType:"blob"});case 2:t=e.sent,n=t.data,new Blob([n],{type:"text/csv"}),c=window.URL.createObjectURL(n),(a=document.createElement("a")).href=c,a.download="orders.csv",a.click();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)(y,{children:[Object(h.jsx)("div",{className:"pt-3 pb-2 mb-3 border-bottom",children:Object(h.jsx)("a",{href:"#",className:"btn btn-sm btn-outline-secondary",onClick:N,children:"Export as a CSV"})}),Object(h.jsx)("div",{className:"table-responsive",children:Object(h.jsxs)("table",{className:"table table-sm",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"#"}),Object(h.jsx)("th",{children:"Name"}),Object(h.jsx)("th",{children:"Email"}),Object(h.jsx)("th",{children:"Total"}),Object(h.jsx)("th",{children:"Action"})]})}),Object(h.jsx)("tbody",{children:n.map((function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.id}),Object(h.jsx)("td",{children:e.name}),Object(h.jsx)("td",{children:e.email}),Object(h.jsx)("td",{children:e.total}),Object(h.jsx)("td",{children:Object(h.jsx)("a",{href:"#",className:"btn btn-sm btn-outline-secondary",onClick:function(){return t=e.id,void g(v===t?0:t);var t},children:"View"})})]},e.id),Object(h.jsx)("tr",{children:Object(h.jsx)("td",{colSpan:5,children:Object(h.jsx)("div",{className:"overflow-hidden",style:v===e.id?J:z,children:Object(h.jsxs)("table",{className:"table table-sm",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"#"}),Object(h.jsx)("th",{children:"Product Title"}),Object(h.jsx)("th",{children:"Quantity"}),Object(h.jsx)("th",{children:"Price"})]})}),Object(h.jsx)("tbody",{children:e.order_items.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.id}),Object(h.jsx)("td",{children:e.product_title}),Object(h.jsx)("td",{children:e.quantity}),Object(h.jsx)("td",{children:e.price})]})}))})]})})})})]})}))})]})}),Object(h.jsx)(C,{page:i,lastPage:O,pageChanged:u})]})},Q=Object(m.b)((function(e){return{user:e.user}}),(function(e){return{setUser:function(t){return e(w(t))}}}))((function(e){var t=Object(c.useState)(""),n=Object(j.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),i=Object(j.a)(s,2),u=i[0],d=i[1],m=Object(c.useState)(""),O=Object(j.a)(m,2),f=O[0],x=O[1],p=Object(c.useState)(""),v=Object(j.a)(p,2),g=v[0],w=v[1],S=Object(c.useState)(""),k=Object(j.a)(S,2),C=k[0],_=k[1];Object(c.useEffect)((function(){r(e.user.first_name),d(e.user.last_name),x(e.user.email)}),[e.user]);var E=function(){var t=Object(o.a)(l.a.mark((function t(n){var c,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,b.a.put("users/info",{first_name:a,last_name:u,email:f});case 3:c=t.sent,r=c.data,e.setUser(new N(r.id,r.first_name,r.last_name,r.email,r.role));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,b.a.put("users/password",{password:g,password_confirm:C});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(y,{children:[Object(h.jsx)("h3",{children:"Account Information"}),Object(h.jsxs)("form",{onSubmit:E,children:[Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{children:"First Name"}),Object(h.jsx)("input",{className:"form-control",defaultValue:a,onChange:function(e){return r(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{children:"Last Name"}),Object(h.jsx)("input",{className:"form-control",defaultValue:u,onChange:function(e){return d(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{children:"Email"}),Object(h.jsx)("input",{className:"form-control",defaultValue:f,onChange:function(e){return x(e.target.value)}})]}),Object(h.jsx)("button",{className:"btn btn-outline-secondary",children:"Save"})]}),Object(h.jsx)("h3",{className:"mt-4",children:"Change Password"}),Object(h.jsxs)("form",{onSubmit:P,children:[Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{children:"Password"}),Object(h.jsx)("input",{type:"password",className:"form-control",onChange:function(e){return w(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{children:"Password Confirm"}),Object(h.jsx)("input",{type:"password",className:"form-control",onChange:function(e){return _(e.target.value)}})]}),Object(h.jsx)("button",{className:"btn btn-outline-secondary",children:"Save"})]})]})}));var X=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(d.a,{children:[Object(h.jsx)(x.b,{path:"/",exact:!0,component:k}),Object(h.jsx)(x.b,{path:"/profile",exact:!0,component:Q}),Object(h.jsx)(x.b,{path:"/register",component:D}),Object(h.jsx)(x.b,{path:"/login",component:F}),Object(h.jsx)(x.b,{path:"/users",exact:!0,component:_}),Object(h.jsx)(x.b,{path:"/users/create",component:A}),Object(h.jsx)(x.b,{path:"/users/:id/edit",component:V}),Object(h.jsx)(x.b,{path:"/roles",exact:!0,component:R}),Object(h.jsx)(x.b,{path:"/roles/create",exact:!0,component:T}),Object(h.jsx)(x.b,{path:"/roles/:id/edit",exact:!0,component:I}),Object(h.jsx)(x.b,{path:"/products",exact:!0,component:L}),Object(h.jsx)(x.b,{path:"/products/create",exact:!0,component:B}),Object(h.jsx)(x.b,{path:"/products/:id/edit",exact:!0,component:H}),Object(h.jsx)(x.b,{path:"/orders",exact:!0,component:M})]})})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))},K=n(38),W=n(28),Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:new N},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(W.a)(Object(W.a)({},e),{},{user:t.user});default:return e}};b.a.defaults.baseURL="http://localhost:8000/api/",b.a.defaults.withCredentials=!0;var Z=Object(K.a)(Y);s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(m.a,{store:Z,children:Object(h.jsx)(X,{})})}),document.getElementById("root")),G()}},[[71,1,2]]]);
//# sourceMappingURL=main.71df8aab.chunk.js.map